<header id="Header-{{ section.id }}" class="nt-header" role="banner">
  <div class="nt-header__wrap">
    <!-- Logo -->
    <div class="nt-header__logo">
      {% if section.settings.logo != blank %}
        <a href="{{ routes.root_url }}" class="nt-header__logo-link">
          <img src="{{ section.settings.logo | img_url: '200x' }}" alt="{{ shop.name }}" class="nt-header__logo-img">
        </a>
      {% else %}
        <a href="{{ routes.root_url }}" class="nt-header__logo-text">{{ section.settings.logo_text }}</a>
      {% endif %}
    </div>

    <!-- Navigation -->
    <nav class="nt-header__nav" aria-label="Main navigation">
      {% assign menu = section.settings.menu %}
      {% if menu != blank %}
        <ul class="nt-header__list">
          {% for link in menu.links %}
            <li><a href="{{ link.url }}" class="nt-header__link">{{ link.title }}</a></li>
          {% endfor %}
        </ul>
      {% else %}
        <!-- Fallback links if no menu chosen in settings -->
        <ul class="nt-header__list">
          <li><a href="/collections/all" class="nt-header__link">Shop</a></li>
          <li><a href="/pages/about" class="nt-header__link">About</a></li>
          <li><a href="/pages/contact" class="nt-header__link">Contact</a></li>
        </ul>
      {% endif %}
      
    </nav>
  </div>
</header>

<style>
  /* ===== Clean white header that matches the gap area ===== */
  #Header-{{ section.id }}{
    background: #f2f3f5 !important;
    position:relative;
    z-index:50;
    box-shadow: 0 2px 15px rgba(0,0,0,.08);
    border-bottom: 1px solid rgba(0,0,0,.06);
  }
  #Header-{{ section.id }} *{ box-sizing:border-box }
  #Header-{{ section.id }} .nt-header__wrap{
    display:flex; align-items:center; justify-content:space-between;
    padding:15px 20px;
    backdrop-filter:none !important; -webkit-backdrop-filter:none !important;
    gap: 20px;
    max-width: 1200px;
    margin: 0 auto;
  }
  
  /* Mobile header adjustments */
  @media (max-width: 768px) {
    #Header-{{ section.id }} .nt-header__wrap {
      justify-content: flex-start;
      gap: 40px;
      padding: 12px 16px;
    }
    
    #Header-{{ section.id }} .nt-header__logo {
      margin-left: 20px;
    }
    
    #Header-{{ section.id }} .nt-header__logo-img { 
      max-height: 60px; 
    }
    
    #Header-{{ section.id }} .nt-header__logo-text {
      font-size: 1.4rem;
    }
    
    #Header-{{ section.id }} .nt-header__list {
      gap: 6px;
    }
    
    #Header-{{ section.id }} .nt-header__link {
      padding: 8px 12px;
      font-size: 14px;
    }
    
    #Header-{{ section.id }} .header-wishlist {
      margin-left: 12px;
    }
    
    #Header-{{ section.id }} .wishlist-toggle {
      width: 36px;
      height: 36px;
    }
  }
  #Header-{{ section.id }} .nt-header__logo-img{ max-height:80px; display:block }
  #Header-{{ section.id }} .nt-header__logo-text{
    font-weight:800; text-decoration:none;
    color:#0f172a !important; /* dark text on light background */
    font-size:1.8rem;
  }
  #Header-{{ section.id }} .nt-header__list{
    display:flex; gap:8px; list-style:none; margin:0; padding:0;
  }
  #Header-{{ section.id }} .nt-header__link{
    text-decoration:none; 
    color:#0f172a !important; 
    font-weight:600;
    padding: 12px 20px;
    border-radius: 25px;
    transition: all 0.3s ease;
    position: relative;
    overflow: hidden;
    background: rgba(0,0,0,.05);
    border: 1px solid rgba(0,0,0,.1);
  }
  
  #Header-{{ section.id }} .nt-header__link:hover{
    background: rgba(0,0,0,.08);
    color: #0f172a !important;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0,0,0,.1);
    border-color: rgba(0,0,0,.15);
  }
  
  /* Removed shine effect to clean up header */
  
  /* Header Wishlist Styling */
  #Header-{{ section.id }} .header-wishlist {
    margin-left: 20px;
  }
  
  #Header-{{ section.id }} .wishlist-toggle {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 44px;
    height: 44px;
    background: white;
    border: 2px solid #e5e7eb;
    border-radius: 50%;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  }
  
  #Header-{{ section.id }} .wishlist-toggle:hover {
    border-color: #dc2626;
    transform: scale(1.05);
    box-shadow: 0 4px 16px rgba(220, 38, 38, 0.2);
  }
  
  #Header-{{ section.id }} .wishlist-toggle.has-items {
    border-color: #dc2626;
    background: #fef2f2;
  }
  
  #Header-{{ section.id }} .wishlist-icon {
    color: #6b7280;
    transition: color 0.3s ease;
  }
  
  #Header-{{ section.id }} .wishlist-toggle:hover .wishlist-icon,
  #Header-{{ section.id }} .wishlist-toggle.has-items .wishlist-icon {
    color: #dc2626;
  }
  
  #Header-{{ section.id }} .wishlist-toggle.has-items .heart-outline {
    display: none;
  }
  
  #Header-{{ section.id }} .wishlist-toggle.has-items .heart-filled {
    display: block !important;
  }
  
  #Header-{{ section.id }} .wishlist-count {
    position: absolute;
    top: -8px;
    right: -8px;
    background: #dc2626;
    color: white;
    font-size: 12px;
    font-weight: 600;
    padding: 2px 6px;
    border-radius: 10px;
    min-width: 18px;
    text-align: center;
    opacity: 0;
    transform: scale(0);
    transition: all 0.3s ease;
  }
  
  #Header-{{ section.id }} .wishlist-count.visible {
    opacity: 1;
    transform: scale(1);
  }
</style>

{% schema %}
{
  "name": "Header",
  "settings": [
    { 
      "type": "image_picker", 
      "id": "logo", 
      "label": "Upload Your Logo",
      "info": "Recommended size: 400px wide. PNG with transparent background works best."
    },
    { 
      "type": "text", 
      "id": "logo_text", 
      "label": "Logo text (fallback)", 
      "default": "New Thrifts",
      "info": "Used when no logo image is uploaded"
    },
    { "type": "link_list", "id": "menu", "label": "Main menu" }
  ]
}
{% endschema %}
